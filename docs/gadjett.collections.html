<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>gadjett.collections documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css" /><div style="visibility: hidden;"><div class="klipse" data-external-libs="https://raw.githubusercontent.com/viebel/gadjett/master/src/">(ns test.gadjett
                                                         (:require
                                                         [gadjett.linear :as glinear :refer [intersection-point-func linear-equation intersection-point find-below-and-above-y linear-equation-func highest-below-x linear-y linear-x-func log-x-intersection-point interpolate-linear-y linear-y-func intersection-point-from-2-lines-points lowest-above-x find-keys-with-value log-x-linear-y lowest-above-y log-x-linear-equation calc-interpolated-values linear-x interpolate-linear-x below-and-above-y highest-below-y find-keys-with-values-in]]
                                                         [gadjett.collections :as gcoll :refer [compact unflatten-keys sequence-&gt;map =without-keys? dissoc-in split-by-predicate-positions mapify submap? positions filter-map vec-&gt;map assoc-cyclic infinity subsequence edn-zip fix-blank-lines map-to-object deep-merge mean map-object-kv flatten-keys flatten-keys* compactize-map partition-between take-from-map map-with-index map-object-with-key deep-merge* range-till-end nearest-of-seq branches-and-leaves remove-ending-comments remove-blank-lines filter-branches out-of-bound? map-2d-vec split-by-predicate collify abs append-cyclic map-2d-vec-kv max-and-min index-of nearest-of-ss map-reverse-hierarchy map-object my-replace]]))</div></div><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Gadjett</span> <span class="project-version">0.3.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gadjett</span></div></div></li><li class="depth-2 branch current"><a href="gadjett.collections.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collections</span></div></a></li><li class="depth-2 branch"><a href="gadjett.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="gadjett.core-fn.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-fn</span></div></a></li><li class="depth-2 branch"><a href="gadjett.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="gadjett.linear.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>linear</span></div></a></li><li class="depth-2"><a href="gadjett.macros.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>macros</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="gadjett.collections.html#var-.3Dwithout-keys.3F"><div class="inner"><span>=without-keys?</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-abs"><div class="inner"><span>abs</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-append-cyclic"><div class="inner"><span>append-cyclic</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-assoc-cyclic"><div class="inner"><span>assoc-cyclic</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-branches-and-leaves"><div class="inner"><span>branches-and-leaves</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-collify"><div class="inner"><span>collify</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-compact"><div class="inner"><span>compact</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-compactize-map"><div class="inner"><span>compactize-map</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-deep-merge"><div class="inner"><span>deep-merge</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-dissoc-in"><div class="inner"><span>dissoc-in</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-edn-zip"><div class="inner"><span>edn-zip</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-filter-branches"><div class="inner"><span>filter-branches</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-filter-map"><div class="inner"><span>filter-map</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-fix-blank-lines"><div class="inner"><span>fix-blank-lines</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-flatten-keys"><div class="inner"><span>flatten-keys</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-index-of"><div class="inner"><span>index-of</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-infinity"><div class="inner"><span>infinity</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-2d-vec"><div class="inner"><span>map-2d-vec</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-2d-vec-kv"><div class="inner"><span>map-2d-vec-kv</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-object"><div class="inner"><span>map-object</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-object-kv"><div class="inner"><span>map-object-kv</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-object-with-key"><div class="inner"><span>map-object-with-key</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-reverse-hierarchy"><div class="inner"><span>map-reverse-hierarchy</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-to-object"><div class="inner"><span>map-to-object</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-map-with-index"><div class="inner"><span>map-with-index</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-mapify"><div class="inner"><span>mapify</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-max-and-min"><div class="inner"><span>max-and-min</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-mean"><div class="inner"><span>mean</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-my-replace"><div class="inner"><span>my-replace</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-nearest-of-seq"><div class="inner"><span>nearest-of-seq</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-nearest-of-ss"><div class="inner"><span>nearest-of-ss</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-out-of-bound.3F"><div class="inner"><span>out-of-bound?</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-partition-between"><div class="inner"><span>partition-between</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-positions"><div class="inner"><span>positions</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-range-till-end"><div class="inner"><span>range-till-end</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-remove-blank-lines"><div class="inner"><span>remove-blank-lines</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-remove-ending-comments"><div class="inner"><span>remove-ending-comments</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-sequence-.3Emap"><div class="inner"><span>sequence-&gt;map</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-split-by-predicate"><div class="inner"><span>split-by-predicate</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-split-by-predicate-positions"><div class="inner"><span>split-by-predicate-positions</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-submap.3F"><div class="inner"><span>submap?</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-subsequence"><div class="inner"><span>subsequence</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-take-from-map"><div class="inner"><span>take-from-map</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-unflatten-keys"><div class="inner"><span>unflatten-keys</span></div></a></li><li class="depth-1"><a href="gadjett.collections.html#var-vec-.3Emap"><div class="inner"><span>vec-&gt;map</span></div></a></li></ul></div><div class="namespace-docs" id="content"><p id="klipse-loader-wrapper">Click <a id="klipse-loader" href="javascript:void(0)">here</a> to make these examples interactive with ClojureScript.</p><h1 class="anchor" id="top">gadjett.collections</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-.3Dwithout-keys.3F"><h3>=without-keys?</h3><div class="usage"><code>(=without-keys? obj-a obj-b keys-list)</code></div><div class="doc"><div class="markdown"><p>Compare two maps exclusing some keys</p>
<pre><code class="klipse">  (=without-keys? {:a 1 :b 2 :c 3} {:a 1 :b 5} #{:b :c})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L9">view source</a></div></div><div class="public anchor" id="var-abs"><h3>abs</h3><div class="usage"><code>(abs x)</code></div><div class="doc"><div class="markdown"><p>Absolute value of a number</p>
<pre><code class="klipse">  (map abs (range -5 5))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L215">view source</a></div></div><div class="public anchor" id="var-append-cyclic"><h3>append-cyclic</h3><div class="usage"><code>(append-cyclic lst a)</code></div><div class="doc"><div class="markdown"><p>Appends an element to a list popping out the first element.</p>
<pre><code class="klipse">  (-&gt; (repeat 3 nil)
      (append-cyclic 1)
      (append-cyclic 2)
      (append-cyclic 3)
      (append-cyclic 4))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L145">view source</a></div></div><div class="public anchor" id="var-assoc-cyclic"><h3>assoc-cyclic</h3><div class="usage"><code>(assoc-cyclic coll k v)</code><code>(assoc-cyclic coll k v n)</code></div><div class="doc"><div class="markdown"><p>Assoc a key-value pair to a map popping out an element of the map.  If the key already exists, no element is popped out.  If <code>n</code> is supplied, no elmement is popped out if the map has less than <code>n</code> entries.</p>
<pre><code class="klipse">  (-&gt; {:a 1 :b 2 :c 3}
      (assoc-cyclic :d 4)
      (assoc-cyclic :e 5)
      (assoc-cyclic :f 6)
      (assoc-cyclic :g 7))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L161">view source</a></div></div><div class="public anchor" id="var-branches-and-leaves"><h3>branches-and-leaves</h3><div class="usage"><code>(branches-and-leaves m)</code></div><div class="doc"><div class="markdown"><p>Returns all branches and leaves off a nested map object.</p>
<pre><code class="klipse">(branches-and-leaves {:a {:b 1 :c {:d 2}} :e 3})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L480">view source</a></div></div><div class="public anchor" id="var-collify"><h3>collify</h3><div class="usage"><code>(collify s)</code></div><div class="doc"><div class="markdown"><p>Ensure <code>s</code> is a collection: if <code>s</code> is a collection returns it; otherwise returns (s)</p>
<pre><code class="klipse">(collify 1)
</code></pre>
<pre><code class="klipse">(collify [1 2 3])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L532">view source</a></div></div><div class="public anchor" id="var-compact"><h3>compact</h3><div class="usage"><code>(compact x &amp; {:keys [max-elements-in-coll max-chars-in-str], :or {max-elements-in-coll 10, max-chars-in-str 20}, :as args})</code></div><div class="doc"><div class="markdown"><p>(clojurescript only)</p>
<p>Compacts an expression by taking only the first <code>max-elements-in-coll</code> from collections and first <code>max-chars-in-str</code> from strings. Functions are displayed as “lambda()”.</p>
<p>It works recursively. It is useful for logging and reporting.</p>
<p>Default settings:</p>
<ul>
  <li><code>max-elements-in-coll</code> 10</li>
  <li><code>max-chars-in-str</code> 20</li>
</ul>
<pre><code class="klipse">(compact {:infinite-list (range)
          :long-str "a very very very very long string - too long to be true"
                                                      :long-map (zipmap (range 100) (range 100))
                                                        :function #(+ 1 2)})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L645">view source</a></div></div><div class="public anchor" id="var-compactize-map"><h3>compactize-map</h3><div class="usage"><code>(compactize-map m)</code></div><div class="doc"><div class="markdown"><p>Removes entries with <code>nil</code> values.</p>
<pre><code class="klipse">  (compactize-map {:a 1 :b nil :c 3})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L195">view source</a></div></div><div class="public anchor" id="var-deep-merge"><h3>deep-merge</h3><div class="usage"><code>(deep-merge &amp; maps)</code></div><div class="doc"><div class="markdown"><p>Deep merges maps.</p>
<pre><code class="klipse">(deep-merge {} {:a {:b 1}, :c {:e 4, :d 2, :f {:g 8}}} {:a {:b 1}, :c {:e 4, :d 2000, :f {:g 9000}}})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L468">view source</a></div></div><div class="public anchor" id="var-dissoc-in"><h3>dissoc-in</h3><div class="usage"><code>(dissoc-in m [k &amp; ks :as keys])</code></div><div class="doc"><div class="markdown"><p>Dissociates an entry from a nested associative structure returning a new nested structure. <code>keys</code> is a sequence of keys. Any empty maps that result will not be present in the new structure. See <a href="https://clojuredocs.org/clojure.core/assoc-in">assoc-in</a></p>
<pre><code class="klipse">  (dissoc-in {:a 1 :b 2} [:b])
</code></pre>
<pre><code class="klipse">  (dissoc-in {:a {:b 2 :B 3} :c 3} [:a :b])
</code></pre>
<pre><code class="klipse">  (dissoc-in {:a {:b 2} :c 3} [:a :b])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L284">view source</a></div></div><div class="public anchor" id="var-edn-zip"><h3>edn-zip</h3><div class="usage"><code>(edn-zip root)</code></div><div class="doc"><div class="markdown"><p>A zipper for <code>edn</code>.</p>
<pre><code class="klipse">  (edn-zip {:a {:b 1}, :c {:e 4, :d 2, :f {:g 8}}})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L546">view source</a></div></div><div class="public anchor" id="var-filter-branches"><h3>filter-branches</h3><div class="usage"><code>(filter-branches m p)</code></div><div class="doc"><div class="markdown"><p>Filters branches of a (nested) map <code>m</code> according to a predicate <code>m</code>.</p>
<pre><code class="klipse">(filter-branches {:x {:id 19 :b 1 :c {:id 2}} :e 3} :id)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L494">view source</a></div></div><div class="public anchor" id="var-filter-map"><h3>filter-map</h3><div class="usage"><code>(filter-map f m)</code></div><div class="doc"><div class="markdown"><p>Run a function on the elements of a map and keep only those elements for which the function returns true</p>
<pre><code class="klipse">  (filter-map even? {:a 1 :b 2 :c 3})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L205">view source</a></div></div><div class="public anchor" id="var-fix-blank-lines"><h3>fix-blank-lines</h3><div class="usage"><code>(fix-blank-lines s)</code></div><div class="doc"><div class="markdown"><p>Removes blank lines from the begining and from the end (not from the middle)</p>
<pre><code class="klipse">  ; we use (char 10) for end-of-line due to technical issues with string manipulation with `codox`
  (let [lines (clojure.string/join (char 10) ["  ", "aa", "  ", "bb", " 	  "])]
  (fix-blank-lines lines))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L612">view source</a></div></div><div class="public anchor" id="var-flatten-keys"><h3>flatten-keys</h3><div class="usage"><code>(flatten-keys m)</code></div><div class="doc"><div class="markdown"><p>Flatten the keys of a nested map. Thanks to <a href="http://blog.jayfields.com/2010/09/clojure-flatten-keys.html">Jay Fields</a></p>
<pre><code class="klipse">(flatten-keys {:a {:b 1} :c {:d 2 :e 4 :f {:g 8}}})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L418">view source</a></div></div><div class="public anchor" id="var-index-of"><h3>index-of</h3><div class="usage"><code>(index-of s element)</code></div><div class="doc"><div class="markdown"><p>Returns the index of an element in a sequence or <code>-1</code> if not present.</p>
<pre><code class="klipse">(index-of (range 100) 18)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L400">view source</a></div></div><div class="public anchor" id="var-infinity"><h3>infinity</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L6">view source</a></div></div><div class="public anchor" id="var-map-2d-vec"><h3>map-2d-vec</h3><div class="usage"><code>(map-2d-vec f m)</code></div><div class="doc"><div class="markdown"><p>Maps the values of a <code>2D</code> vector where each element of the vector is a key-value pair. <code>f</code> is a <code>1-ary</code> function that receives the key.</p>
<pre><code class="klipse">  (map-2d-vec inc [[:a 1] [:b 2]])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L29">view source</a></div></div><div class="public anchor" id="var-map-2d-vec-kv"><h3>map-2d-vec-kv</h3><div class="usage"><code>(map-2d-vec-kv fk fv m)</code></div><div class="doc"><div class="markdown"><p>Maps the values of a <code>2D</code> vector where each element of the vector is a key-value pair. <code>fk</code> is a <code>1-ary</code> function that receives the key. <code>fv</code> is a <code>1-ary</code> function that receives the value.</p>
<pre><code class="klipse">    (map-2d-vec-kv name inc [[:a 1] [:b 2]])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L40">view source</a></div></div><div class="public anchor" id="var-map-object"><h3>map-object</h3><div class="usage"><code>(map-object f m)</code></div><div class="doc"><div class="markdown"><p>Returns a map with the same keys as <code>m</code> and with the values transformed by <code>f</code>. <code>f</code> is a <code>1-ary</code> function that receives the key.</p>
<pre><code class="klipse">  (map-object inc {:a 1 :b 2 :c 3})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L52">view source</a></div></div><div class="public anchor" id="var-map-object-kv"><h3>map-object-kv</h3><div class="usage"><code>(map-object-kv fk fv m)</code></div><div class="doc"><div class="markdown"><p>Returns a map with the keys mapped by <code>fk</code> and the values mapped by <code>fv</code>.</p>
<pre><code class="klipse">    (map-object-kv name inc {:a 1 :b 2 :c 3})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L73">view source</a></div></div><div class="public anchor" id="var-map-object-with-key"><h3>map-object-with-key</h3><div class="usage"><code>(map-object-with-key f m)</code></div><div class="doc"><div class="markdown"><p>Returns a map with the same keys as <code>m</code> and with the values transformed by <code>f</code>. <code>f</code> must be a <code>2-ary</code> function that receives the key and the value as arguments.</p>
<pre><code class="klipse">  (map-object-with-key list {:a 1 :b 2 :c 3})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L63">view source</a></div></div><div class="public anchor" id="var-map-reverse-hierarchy"><h3>map-reverse-hierarchy</h3><div class="usage"><code>(map-reverse-hierarchy m)</code></div><div class="doc"><div class="markdown"><p>Turns a hash map inside out.  See: <a href="http://stackoverflow.com/a/23653784/813665">here</a></p>
<pre><code class="klipse">  (map-reverse-hierarchy {:monday {:banana 2 :apple 3} 
                          :tuesday {:banana 5 :orange 2}})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L84">view source</a></div></div><div class="public anchor" id="var-map-to-object"><h3>map-to-object</h3><div class="usage"><code>(map-to-object f lst)</code></div><div class="doc"><div class="markdown"><p>Returns a map whose keys are the elements of <code>lst</code> and values are mapped by <code>f</code>.</p>
<pre><code class="klipse">  (map-to-object inc (range 5))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L251">view source</a></div></div><div class="public anchor" id="var-map-with-index"><h3>map-with-index</h3><div class="usage"><code>(map-with-index s idx-key val-key)</code></div><div class="doc"><div class="markdown"><p>Maps a sequence to a sequence of maps with index and value</p>
<pre><code class="klipse">      (map-with-index [10 20 30] :idx :val)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L274">view source</a></div></div><div class="public anchor" id="var-mapify"><h3>mapify</h3><div class="usage"><code>(mapify f s)</code></div><div class="doc"><div class="markdown"><p>Takes a seq, and returns a map where the keys are the result of applying f to the elements in the seq.  The result of f should be unique for each element in the seq, otherwise you will loose some data.  If it is not unique, consider using <a href="https://clojuredocs.org/clojure.core/group-by">group-by</a>.</p>
<pre><code class="klipse">  (mapify inc (range 5) )
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L261">view source</a></div></div><div class="public anchor" id="var-max-and-min"><h3>max-and-min</h3><div class="usage"><code>(max-and-min x)</code></div><div class="doc"><div class="markdown"><p>Returns a couple of the <code>max</code> and the <code>min</code> of a sequence.</p>
<pre><code class="klipse">  (max-and-min (range 5))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L183">view source</a></div></div><div class="public anchor" id="var-mean"><h3>mean</h3><div class="usage"><code>(mean x)</code></div><div class="doc"><div class="markdown"><p>Calculates the mean (a.k.a average) of a sequence of numbers.</p>
<pre><code class="klipse">  (mean [1 2 10 -1 12.3])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L98">view source</a></div></div><div class="public anchor" id="var-my-replace"><h3>my-replace</h3><div class="usage"><code>(my-replace smap form)</code></div><div class="doc"><div class="markdown"><p>Recursively transforms <code>form</code> by replacing keys in <code>smap</code> with their  values, spliced. The values in <code>smap</code> must be sequences. Like clojure.walk/prewalk-replace but supports list in values.</p>
<pre><code class="klipse">(my-replace '{go (go gadjett)} '(go (&lt;! (timeout 100)) (go (&lt;! timeout 0))))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L578">view source</a></div></div><div class="public anchor" id="var-nearest-of-seq"><h3>nearest-of-seq</h3><div class="usage"><code>(nearest-of-seq a b)</code></div><div class="doc"><div class="markdown"><p>Maps each element of <code>b</code> to its nearest element in <code>a</code>.  If <code>a</code> is empty, returns <code>b</code>.</p>
<pre><code class="klipse">  (nearest-of-seq (range 5) [1.2 3.4 4])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L238">view source</a></div></div><div class="public anchor" id="var-nearest-of-ss"><h3>nearest-of-ss</h3><div class="usage"><code>(nearest-of-ss ss x)</code></div><div class="doc"><div class="markdown"><p>Returns the nearest number to <code>x</code> of a sorted set</p>
<pre><code class="klipse">  (nearest-of-ss (apply sorted-set (range 5)) 1.2)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L226">view source</a></div></div><div class="public anchor" id="var-out-of-bound.3F"><h3>out-of-bound?</h3><div class="usage"><code>(out-of-bound? v idx)</code></div><div class="doc"><div class="markdown"><p>Checks if index <code>idx</code> is in range of vector <code>v</code>. More efficient than <code>(get v idx)</code></p>
<pre><code class="klipse">    (map #(out-of-bound? [1 2 3] %) [-1 0 1 2 3 4])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L506">view source</a></div></div><div class="public anchor" id="var-partition-between"><h3>partition-between</h3><div class="usage"><code>(partition-between pred coll)</code></div><div class="doc"><div class="markdown"><p>Splits a collection between two items according to predicate <code>pred</code> - which means split the sequence on breaking point.</p>
<p>See: <a href="http://stackoverflow.com/questions/23207490/partition-a-seq-by-a-windowing-predicate-in-clojure">here</a></p>
<p>For instance, split each time the series stop being ascending:</p>
<pre><code class="klipse">(partition-between &gt; [1 2 4 9 8 7 6 5 1 2 4 5 11])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L516">view source</a></div></div><div class="public anchor" id="var-positions"><h3>positions</h3><div class="usage"><code>(positions coll-of-lengths &amp; {:keys [max-val first-val], :or {max-val infinity, first-val 0}})</code></div><div class="doc"><div class="markdown"><p>Receives a collection of lengths and returns a list of start and end positions. Options:  * <code>max-val</code>: (default <code>infinity</code>) - max value for <code>end</code>  * <code>first-val</code>: (default 0) - first value of <code>start</code></p>
<pre><code class="klipse">  (positions '(10 10 20) :first-val 100 :max-val 137)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L309">view source</a></div></div><div class="public anchor" id="var-range-till-end"><h3>range-till-end</h3><div class="usage"><code>(range-till-end &amp; args)</code></div><div class="doc"><div class="markdown"><p>Like <code>range</code> but including the <code>end</code>.</p>
<pre><code class="klipse">  (range-till-end 10)
</code></pre>
<pre><code class="klipse">(range-till-end 10 18)
</code></pre>
<pre><code class="klipse">(range-till-end 10 100 5)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L125">view source</a></div></div><div class="public anchor" id="var-remove-blank-lines"><h3>remove-blank-lines</h3><div class="usage"><code>(remove-blank-lines s)</code></div><div class="doc"><div class="markdown"><p>Removes blank lines.</p>
<pre><code class="klipse">  ; we use (char 10) for end-of-line due to technical issues with string manipulation with `codox`
  (let [lines (clojure.string/join (char 10) ["  ", "aa", "  ", "bb", " 	  "])]
  (remove-blank-lines lines))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L630">view source</a></div></div><div class="public anchor" id="var-remove-ending-comments"><h3>remove-ending-comments</h3><div class="usage"><code>(remove-ending-comments s)</code></div><div class="doc"><div class="markdown"><p>Removes comment lines from the end.</p>
<pre><code class="klipse">  ; we use (char 10) for end-of-line due to technical issues with string manipulation with `codox`
  (let [lines (clojure.string/join (char 10) ["aa", "  ", "bb" "; this comment should not appear"])]
  (remove-ending-comments lines))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L596">view source</a></div></div><div class="public anchor" id="var-sequence-.3Emap"><h3>sequence-&gt;map</h3><div class="usage"><code>(sequence-&gt;map s)</code></div><div class="doc"><div class="markdown"><p>Converts a sequence into a map where the keys are the indexes of the elements in the sequence.</p>
<pre><code class="klipse">  (sequence-&gt;map [10 20 30])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L110">view source</a></div></div><div class="public anchor" id="var-split-by-predicate"><h3>split-by-predicate</h3><div class="usage"><code>(split-by-predicate coll pred n)</code></div><div class="doc"><div class="markdown"><p>Splits a collection to items where the separator is a repetition of at least n elements that satisfy <code>pred</code>.</p>
<p>Inspired by: <a href="http://stackoverflow.com/a/23555616/813665">this question</a>.</p>
<pre><code class="klipse">  (split-by-predicate (shuffle (range 30)) even? 2)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L324">view source</a></div></div><div class="public anchor" id="var-split-by-predicate-positions"><h3>split-by-predicate-positions</h3><div class="usage"><code>(split-by-predicate-positions coll pred n d)</code></div><div class="doc"><div class="markdown"><p>Optimized version of <code>split-by-predicate</code> where we assume that the data is from a signal that we can sample.</p>
<p>Instead of checking each element, we check 1 over <code>n</code> elements.</p>
<p>We return the positions where the data splits.</p>
<pre><code class="klipse">  (let [data (map Math/sin (range 0 6.28 0.001))]
    (split-by-predicate-positions data #(&lt;= -0.01 % 0.01) 2 10))
</code></pre>
<p>The following assertion holds:</p>
<pre><code class="clojure">  (= (split-by-predicate coll pred n)
     (map #(apply subsequence data %) (split-by-predicate-positions coll pred n 1)))
</code></pre>
<p>Here is an example:</p>
<pre><code class="klipse">  (let [data (map Math/sin (range 0 6.28 0.01))]
    (= (split-by-predicate data #(&lt;= -0.01 % 0.01) 2)
       (map #(apply subsequence data %) (split-by-predicate-positions data #(&lt;= -0.01 % 0.01) 2 1))))
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L340">view source</a></div></div><div class="public anchor" id="var-submap.3F"><h3>submap?</h3><div class="usage"><code>(submap? m1 m2)</code></div><div class="doc"><div class="markdown"><p>Checks if <code>m1</code> is a submap of <code>m2</code>.  Map <code>m1</code> is a submap of <code>m2</code> if all key/value pairs in <code>m1</code> exist in <code>m2</code>.</p>
<pre><code class="klipse">  (submap? {:a 1} {:a 1 :b 2})
</code></pre>
<pre><code class="klipse">  (submap? {:a 1} {:a 1 :b 2 :c nil})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L373">view source</a></div></div><div class="public anchor" id="var-subsequence"><h3>subsequence</h3><div class="usage"><code>(subsequence coll start end)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy subsequence of <code>coll</code>, starting at <code>start, ending at</code>end` (not included).</p>
<pre><code class="klipse">  (subsequence (range) 10 20)
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L388">view source</a></div></div><div class="public anchor" id="var-take-from-map"><h3>take-from-map</h3><div class="usage"><code>(take-from-map n m)</code></div><div class="doc"><div class="markdown"><p>Creates a map with n leaves which are nested values of m.  The following assertion holds:</p>
<pre><code class="clojure">      (&gt;= n (count (flatten-keys (take-from-map n m)))))))
</code></pre>
<pre><code class="klipse">  (take-from-map 3 {:a {:b 1}, :c {:e 4, :d 2, :f {:g 8}}})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L440">view source</a></div></div><div class="public anchor" id="var-unflatten-keys"><h3>unflatten-keys</h3><div class="usage"><code>(unflatten-keys m)</code></div><div class="doc"><div class="markdown"><p>Unflattend the keys of a map that has been <code>flatten-keys</code>ed.</p>
<pre><code class="klipse">(unflatten-keys {[:a :b] 1, [:c :d] 2, [:c :e] 4, [:c :f :g] 8})
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L429">view source</a></div></div><div class="public anchor" id="var-vec-.3Emap"><h3>vec-&gt;map</h3><div class="usage"><code>(vec-&gt;map vec)</code></div><div class="doc"><div class="markdown"><p>Converts a 2d vec to a hash-map.</p>
<pre><code class="klipse">   (vec-&gt;map [[:a 1] [:b 2]])
</code></pre></div></div><div class="src-link"><a href="https://github.com/viebel/gadjett/blob/master/src/gadjett/collections.cljc#L19">view source</a></div></div></div><script>window.klipse_settings = {
    selector: '.klipse,.klipse',
    codemirror_options_in: {
    lineWrapping: true,
    autoCloseBrackets: true
    },
    codemirror_options_out: {
    lineWrapping: true
    }
    };</script><script>
    function klipseLocalStorageEnabled() {
        var mod = 'modernizr';
        try {
          localStorage.setItem(mod, mod);
          localStorage.removeItem(mod);
          return true;
        } catch (e) {
          return false;
        }
     }
     function klipseLoad() {
      if (klipseLocalStorageEnabled()) { sessionStorage.setItem('klipse', true);}
      $('#klipse-loader-wrapper').remove();
      var s = document.createElement('script');
      s.setAttribute('src','https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js');
      document.head.appendChild(s);
      }
    if(!false) {
      klipseLoad();
    } else {
      if((klipseLocalStorageEnabled() && sessionStorage.getItem('klipse')) || window.location.search.match(/klipse=1/)) {
        klipseLoad();
      } else {
        $('#klipse-loader').click(function(){
        klipseLoad();
       });
      }
    }
    </script></body></html>